<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Регистрация</title>
    <link rel="icon" type="image/png" href="/favicon_tent.png">
    <!-- Подключение Bootstrap для оформления -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/custom.css">
</head>

<body class="container mt-5" style="background-color: #faeedd;
      background-image: url('/pattern.png');
        background-repeat: repeat;
        background-size: 500px 500px;">
<div class="container mt-5"
     style="max-width: 500px;
         background-image: url('/tent.png');
         background-position: center top;
         padding-top: 180px;
         background-repeat: no-repeat;">
    <!-- Заголовок страницы -->
    <h2 class="text-center mb-4">Региcтрация</h2>

    <!-- Сообщение об ошибке или подтверждении -->
    <div th:if="${message}" class="alert alert-info text-center" th:text="${message}"></div>

    <!-- Форма регистрации -->
    <form th:action="@{/register}" th:object="${user}" method="post" class="needs-validation" novalidate>

        <!-- Поле ввода email -->
        <div class="mb-3">
            <label for="email" class="form-label" style="font-weight: bold; margin-top: 5px;">Почта:</label>
            <input type="email" th:field="*{email}" id="email" class="form-control" required placeholder="Введите почту">
            <div class="invalid-feedback">Пожалуйста введите действительный почтовый ящик.</div>
        </div>

        <!-- Поле ввода пароля -->
        <div class="mb-3">
            <label for="password" class="form-label"  style="font-weight: bold">Пароль:</label>
            <input type="password" th:field="*{password}" id="password" class="form-control" required
                   placeholder="Введите пароль">
            <div class="invalid-feedback">Пароль обязателен.</div>
        </div>

        <!-- Кнопка отправки формы -->
        <div class="d-grid">
            <button type="submit" class="btn btn-primary" style="font-weight: bold">Зарегистрироваться</button>
        </div>
    </form>

    <!-- Ссылка на страницу входа -->
    <div class="mt-5 text-center">
        <p>Уже зарегистрированы?
            <a th:href="@{/login}">Войдите в свой аккаунт здесь</a>
        </p>
    </div>

    <!-- Скрипт проверки формы Bootstrap -->
    <script>
        // Включение клиентской валидации формы
        (function () {
            'use strict';
            const forms = document.querySelectorAll('.needs-validation');
            Array.from(forms).forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        })();
    </script>

</body>
</html>
